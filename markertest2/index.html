<html>
<head>
  <title>AR Marker Test</title>

<meta name="apple-mobile-web-app-capable" content="yes"> 
<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
<script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
<script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>


<script>

Colors = {};
Colors.names = {
    aqua: "#00ffff",
    azure: "#f0ffff",
    beige: "#f5f5dc",
    blue: "#0000ff",
    brown: "#a52a2a",
    cyan: "#00ffff",
    darkblue: "#00008b",
    darkcyan: "#008b8b",
    darkorange: "#ff8c00",
    darkorchid: "#9932cc",
    darkred: "#8b0000",
    darksalmon: "#e9967a",
    darkviolet: "#9400d3",
    fuchsia: "#ff00ff",
      green: "#008000",
    indigo: "#4b0082",
    lime: "#00ff00",
    magenta: "#ff00ff",
    maroon: "#800000",
    navy: "#000080",
    orange: "#ffa500",
    pink: "#ffc0cb",
    purple: "#800080",
    violet: "#800080",
    red: "#ff0000",
    silver: "#c0c0c0",
};

Colors.random = function() {
    var result;
    var count = 0;
    for (var prop in this.names)
        if (Math.random() < 1/++count)
           result = prop;
    return result;
};

 function getRand(min, max) {
   return Math.floor(Math.random() * (max - min + 1)) + min
 }

 function getRandExcluded(min, max, excludedMin, excludedMax) {
   let someRand = Math.floor(Math.random() * (max - min + 1)) + min
   if (excludedMin <= min || excludedMax >= max) {
     return null
   }
   while (someRand >= excludedMin && someRand <= excludedMax) {
      // this rand is within our excluded, try a new one
      someRand = Math.floor(Math.random() * (max - min + 1)) + min
   }
   return someRand
 }

  let slots = ["-5 10 -25", "-5 6 -25", "-5 2 -25", "-5 -2 -25", "-5 -6 -25", "-5 -10 -25", "-5 -14 -25", "-1 10 -25"]
  let numCollected = 0
  let readyToBoot = false


</script>
<style>
  body {
    font-family: arial;
  }
  .hud {
    width: 100%;
    z-index: 99;
    position: absolute;
    display: block;
    bottom: 0;
    left: 0;
    margin: 0 auto;
    text-align: center;
    /* Hide superfluous border */
    overflow: hidden;
    background: white;
    opacity: 0.9;
  }
  #phone {
    display: none;
    width: 200px;
    position: absolute;
    top: 200px;
    left: 41%;
    text-align: center;
    background: rgba(51, 170, 51, .7);
    padding: 5%;
  }
  .phoneInstructions {
    color: white;
    margin-bottom: 10px;
    font-size: 14px;
  }
  .notification {
    font-size: 26px;
    color: red;
  }
  .instructions {
    text-transform: uppercase;
    background: red;
    color: white;
  }
  .collectables {
    height: 205px;
    display: flex;
    flex-wrap: wrap;
    margin: 0 auto;
    width: 375px;
  }
  .imgWrap {
    max-width: 87px;
    border: 3px red solid;
    position: relative;
  }
  .checkmark {
    display: none;
    position: absolute;
    width: 87px;
    top: 3px;
  }
  img {
    max-width: 100%;
  }

</style>
</head>
<body>
  <a-scene wasd-controls embedded vr-mode-ui="enabled: false"  arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;" renderer="antialias: false; logarithmicDepthBuffer:true; precision: mediump; alpha: true; colorManagement: true;">
    <a-plane color="darkblue" id="plane" height="400" width="400" position="0 0 35" visible="true" opacity="0.6"></a-plane>
    <a-text id="developedBy" value="Developed by" position="0 8 45" rotation="0 180 0" height="45px" width="35px" color="white"></a-text>
    <a-gltf-model id="six12logonocollect" src="https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/assets/models/six12-logo_0316a.glb" position="-5 2 45" rotation="0 180 0" scale="7 7 7"> </a-gltf-model>
    <a-text id="turn" value="Turn around" position="-5 -1 45" rotation="0 180 0" height="85px" width="50px" color="white" visible="true"></a-text>
    <a-entity light="type: directional; color: #EEE; intensity: 2.5" position="10 5 -5"></a-entity>
    <a-entity light="type: directional; color: #EEE; intensity: 3.5" position="-10 -2 15"></a-entity>
    <a-text id="collectedAll" visible="false" color="white" value="You collected everything!" position="1 0 -25" height="50px" width="50px"></a-text>


  <a-marker type='barcode' value='1'>
    <a-entity rotation="0 0 0"  position="-0.25 -1 -1" scale="1.2 1.2 1.2">
        <a-sphere id="sphere" position="0 0 0" color="purple"></a-sphere>
    </a-entity>
  </a-marker>
  <a-marker type='barcode' value='2'>
    <a-entity rotation="0 0 0" position="-0.25 -1 -1" scale="1.4 1.4 1.4" ">
        <a-box id="box" position="0 0 0" color="skyblue"></a-box>
    </a-entity>
  </a-marker>
  <a-marker type='barcode' value='3'>
    <a-entity rotation="0 0 0" position="-0.25 -1 -1" scale="1.2 1.2 1.2">
        <a-sphere id="sphere" position="0 0 0" color="yellow"></a-sphere>
    </a-entity>
  </a-marker>
  <a-marker type='barcode' value='4'>
    <a-entity rotation="0 0 0" position="-0.25 -1 -1" scale="1.4 1.4 1.4" ">
        <a-box id="box" position="0 0 0" color="green"></a-box>
    </a-entity>
  </a-marker>
  <a-marker type='barcode' value='5'>
    <a-entity rotation="0 45 0" position="-0.25 -1 -1" scale="1.4 1.4 1.4" ">
        <a-box id="box" position="0 0 0" color="orange"></a-box>
    </a-entity>
  </a-marker>
  <a-marker type='barcode' value='6'>
    <a-entity rotation="0 0 0" position="-0.25 -1 -1" scale="1.2 1.2 1.2">
        <a-sphere id="sphere" position="0 0 0" color="red"></a-sphere>
    </a-entity>
  </a-marker>
  <a-marker type='barcode' value='7'>
    <a-entity rotation="0 0 0" position="-0.25 -1 -1" scale="1.4 1.4 1.4" ">
        <a-box id="box" position="0 0 0" color="blue"></a-box>
    </a-entity>
  </a-marker>
  <a-marker type='pattern' url='https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/markertest/pattern-marker.patt'>
    <a-entity rotation="45 45 45" position="-0.25 -1 -1" scale="1.6 1.6 1.6" ">
        <a-box id="box" position="0 0 0" color="black"></a-box>
    </a-entity>
  </a-marker>
  <!-- Custom Black and White CK Marker -->
  <a-marker type='pattern' url='https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/markertest/pattern-marker-ck.patt'>
    <a-entity position="-0.1 -0.2 -0.15" scale="0.1 0.1 0.1" animation__rotation="property: rotation; from: 360 0 0 to: 180 0 0; dur: 2500; easing: linear; loop: false">
      <a-gltf-model id="ckstore" class="collectable" src="https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/assets/models/ck-store_0316a.glb" scale="0.7 0.7 0.7" > </a-gltf-model>
    </a-entity>
  </a-marker>
  <!-- Custom CK Red Marker -->
  <a-marker type='pattern' url='https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/markertest/pattern-CK-red.patt'>
    <a-entity position="-0.1 -0.2 -0.15" scale="0.1 0.1 0.1" animation__rotation="property: rotation; from: 360 0 0 to: 180 0 0; dur: 2500; easing: linear; loop: false">
      <a-gltf-model id="ckstore" class="collectable" src="https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/assets/models/ck-store_0316a.glb" scale="0.7 0.7 0.7" > </a-gltf-model>
    </a-entity>
  </a-marker>

    <a-camera id="camera"><a-cursor id="cursor"></a-cursor></a-camera>
  </a-scene>
  <div id="phone">
    <div class="phoneInstructions">Congrats!<br/>Now enter your phone number to save your collection <br/>(nothing happens yet)</div>
    <input type="phone"></input>
  </div>

</body>
</html>