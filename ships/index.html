<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
<script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
<script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>


<script>

 function getRand(min, max) {
   return Math.floor(Math.random() * (max - min + 1)) + min
 }

    let slots = ["-5 6 -13", "-5 4 -13", "-5 2 -13", "-5 0 -13", "-5 -2 -13", "-5 -4 -13", "5 -6 -13", "3 6 -13", "3, 4, -13"]

  AFRAME.registerComponent('model-move', {
    init: function () {
      var data = this.data;
      var el = this.el;  // <a-box>

      el.setAttribute('position', getRand(-15, 15) + " " + getRand(-15, 15) + " " + getRand(-12, -150))

      el.addEventListener('mouseenter', function () {
          console.log('collected object')
        let scale = el.getAttribute('scale')
        let newScale = scale.x * 1.4 + " " + scale.y * 1.4 + " " + scale.z * 1.4
        el.setAttribute('scale', newScale);
        if (el.getAttribute('collected') === 'false') {
            el.setAttribute('collected', 'true');
            el.setAttribute('animation__position', "property: position; to: " + slots.shift() + "; dur: 1500; easing: linear; loop: false")
        }
      });

      el.addEventListener('mouseleave', function () {
        let scale = el.getAttribute('scale')
        let newScale = scale.x * 0.6 + " " + scale.y * 0.6 + " " + scale.z * 0.6
        el.setAttribute('scale', newScale);
      });
    }
  });
</script>
<body>
  <a-scene embedded vr-mode-ui="enabled: false">
    <a-assets>
        <a-asset-item id="spaceship" src="https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/gltf/spaceship.gltf"></a-asset-item>
    </a-assets>
    <a-text value="Collection" position="-5 8 -13" height="50px"></a-text>
    <a-gltf-model src="#spaceship" model-move="location: collection" scale="0.45 0.45 0.45" position="-10 -5 -12"  rotation="0 270 0"  animation-mixer animation__position="property: position; to: -66 14 -25; dur: 32000; easing: linear; loop: true" collected="false"> </a-gltf-model>
    <a-gltf-model src="#spaceship" model-move="location: collection" scale="0.45 0.45 0.45" position="-10 5 -12"  rotation="0 90 0"  animation-mixer animation__position="property: position; to: 0 14 -6; dur: 42000; easing: linear; loop: true" collected="false"> </a-gltf-model>
    <a-gltf-model src="#spaceship" model-move="location: collection" scale="0.45 0.45 0.45" position="-10 -2 -12"  rotation="0 270 0"  animation-mixer animation__position="property: position; to: -66 14 25; dur: 32000; easing: linear; loop: true" collected="false"> </a-gltf-model>
    <a-gltf-model src="#spaceship" model-move="location: collection" scale="0.45 0.45 0.45" position="-10 2 -12"  rotation="0 90 0"  animation-mixer animation__position="property: position; to: 6 -4 25; dur: 22000; easing: linear; loop: true" collected="false"> </a-gltf-model>
    <a-gltf-model src="#spaceship" model-move="location: collection" scale="0.45 0.45 0.45" position="-10 5 -12"  rotation="0 90 0"  animation-mixer animation__position="property: position; to: 66 14 -5; dur: 32000; easing: linear; loop: true" collected="false"> </a-gltf-model>
    <a-gltf-model src="#spaceship" model-move="location: collection" scale="0.45 0.45 0.45" position="10 1 -12"  rotation="0 270 0"  animation-mixer animation__position="property: position; to: -33 14 -25; dur: 12000; easing: linear; loop: true" collected="false"> </a-gltf-model>
    <a-gltf-model src="#spaceship" model-move="location: collection" scale="0.45 0.45 0.45" position="10 2 -12"  rotation="0 270 0"  animation-mixer animation__position="property: position; to: -6 4 -25; dur: 22000; easing: linear; loop: true" collected="false"> </a-gltf-model>
    <a-gltf-model src="#spaceship" model-move="location: collection" scale="0.45 0.45 0.45" position="10 4 -12"  rotation="0 270 0"  animation-mixer animation__position="property: position; to: -66 14 -5; dur: 32000; easing: linear; loop: true" collected="false"> </a-gltf-model>
    <a-gltf-model src="#spaceship" model-move="location: collection" scale="0.45 0.45 0.45" position="10 5 -12"  rotation="0 270 0"  animation-mixer animation__position="property: position; to: -99 14 -25; dur: 42000; easing: linear; loop: true" collected="false"> </a-gltf-model>

    <a-camera><a-cursor></a-cursor></a-camera>
  </a-scene>
</body>