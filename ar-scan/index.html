<!doctype HTML>
<html>
    <head>
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    </head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    
    <script>
        window.onload = function () {
          document
            .querySelector(".say-hi-button")
            .addEventListener("click", function () {
             document.getElementById('sphere').setAttribute('color', getRandomColor())
            });
        document
            .querySelector(".say-hi-button")
            .addEventListener("click", function () {
             document.getElementById('treasure').setAttribute('scale', {x: 0.01, y: 0.01, z: 0.01});
            });
        };
      
      function getRandomColor() {
        var letters = '0123456789ABCDEF';
        var color = '#';
        for (var i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
      }
      </script>

    <body style='margin : 0px; overflow: hidden;'>

        <div class="buttons" style="text-align: center; margin-top: 5%;">
            <button class="say-hi-button" style="width:200px; padding: 0.5em; height: 50px; font-size: 18px; font-weight:bold; border: 2px solid black; background: white;">Change Color</button>
          </div>
        <!-- we add detectionMode and matrixCodeType to tell AR.js to recognize barcode markers -->
        <a-scene embedded vr-mode-ui="enabled: false" arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">


        <!-- Non animated treasure chest     -->
        <a-assets>
            <a-asset-item id="treasure" src="https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/ar-scan/models/animated-treasure/ar_treasure_chest_0513a.gltf"></a-asset-item>
        </a-assets>
        <!-- <a-obj-model src="#animated-asset"></a-obj-model> -->
        <a-marker type='barcode' value='7'>
            <a-entity
                gltf-model="#treasure"
                scale="0.075 0.075 0.075"
                rotation="0 0 180" position="5 5 -2" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000">
            </a-entity>        
        </a-marker>

        <!-- Sphere -->
        <a-marker type='barcode' value='6'>
            <a-entity rotation="0 0 0" animation="property: position; to: 6 1 0; dur: 2000; easing: linear; loop: true"></a-entity>
            <a-sphere id="sphere"  position="3 0 0" color="red"></a-sphere>
        </a-entity>
        </a-marker>

        <!-- Animated treasure chest     -->
        <a-assets>
            <a-asset-item id="treasureA" src="https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/ar-scan/models/animated-treasure/ar_treasure_chest_0513a.gltf"></a-asset-item>
        </a-assets>
        <!-- <a-obj-model src="#animated-asset"></a-obj-model> -->
        <a-marker type='barcode' value='8'>
            <a-entity
                gltf-model="#treasureA"
                scale="0.085 0.085 0.085"
                rotation="180 180 180" position="1 1 2" animation="property: rotation; to: 0 360 360; loop: true; dur: 3000">
            </a-entity>        
        </a-marker>

        <!-- Radio -->
        <!-- <a-assets>
            <a-asset-item id="radio" src="https://github.com/KhronosGroup/glTF-Sample-Models/blob/master/2.0/BoomBox/glTF/BoomBox.gltf"></a-asset-item>
        </a-assets> 
        <a-marker type='barcode' value='7'>
            <a-entity
                animation-mixer
                gltf-model="#radio"
                scale="2 2 2">
            </a-entity>        
        </a-marker>

        
        <a-assets>
            <a-asset-item id="camera" src="https://github.com/KhronosGroup/glTF-Sample-Models/blob/master/2.0/AntiqueCamera/glTF/AntiqueCamera.gltf"></a-asset-item>
        </a-assets>
        <a-marker id="camera" type='barcode' value='6'>
            <a-entity
                animation-mixer
                gltf-model="#camera"
                scale="2 2 2">
            </a-entity>
        </a-marker> -->

        <!-- <a-scene>
            <a-assets>
              <a-asset-item id="tree-obj" src="https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/ar-scan/models/treasure/Chest.obj"></a-asset-item>
              <a-asset-item id="tree-mtl" src="https://raw.githubusercontent.com/blakefrederick/blakefrederick.github.io/master/ar-scan/models/treasure/Chest.mtl"></a-asset-item>
            </a-assets>
          
            <a-entity obj-model="obj: #tree-obj; mtl: #tree-mtl"></a-entity>
          </a-scene> -->

        <a-entity camera></a-entity>
        </a-scene>
    </body>
          <style>

</html>
